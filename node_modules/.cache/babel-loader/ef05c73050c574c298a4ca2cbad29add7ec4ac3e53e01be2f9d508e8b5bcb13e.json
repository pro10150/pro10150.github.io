{"ast":null,"code":"import _slicedToArray from \"C:/Users/pk117/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// src/index.ts\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useSafeLayoutEffect } from \"@nextui-org/use-safe-layout-effect\";\nfunction useImage() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var loading = props.loading,\n    src = props.src,\n    srcSet = props.srcSet,\n    onLoad = props.onLoad,\n    onError = props.onError,\n    crossOrigin = props.crossOrigin,\n    sizes = props.sizes,\n    ignoreFallback = props.ignoreFallback;\n  var _useState = useState(\"pending\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  useEffect(function () {\n    setStatus(src ? \"loading\" : \"pending\");\n  }, [src]);\n  var imageRef = useRef();\n  var load = useCallback(function () {\n    if (!src) return;\n    flush();\n    var img = new Image();\n    img.src = src;\n    if (crossOrigin) img.crossOrigin = crossOrigin;\n    if (srcSet) img.srcset = srcSet;\n    if (sizes) img.sizes = sizes;\n    if (loading) img.loading = loading;\n    img.onload = function (event) {\n      flush();\n      setStatus(\"loaded\");\n      onLoad == null ? void 0 : onLoad(event);\n    };\n    img.onerror = function (error) {\n      flush();\n      setStatus(\"failed\");\n      onError == null ? void 0 : onError(error);\n    };\n    imageRef.current = img;\n  }, [src, crossOrigin, srcSet, sizes, onLoad, onError, loading]);\n  var flush = function flush() {\n    if (imageRef.current) {\n      imageRef.current.onload = null;\n      imageRef.current.onerror = null;\n      imageRef.current = null;\n    }\n  };\n  useSafeLayoutEffect(function () {\n    if (ignoreFallback) return void 0;\n    if (status === \"loading\") {\n      load();\n    }\n    return function () {\n      flush();\n    };\n  }, [status, load, ignoreFallback]);\n  return ignoreFallback ? \"loaded\" : status;\n}\nvar shouldShowFallbackImage = function shouldShowFallbackImage(status, fallbackStrategy) {\n  return status !== \"loaded\" && fallbackStrategy === \"beforeLoadOrError\" || status === \"failed\" && fallbackStrategy === \"onError\";\n};\nexport { shouldShowFallbackImage, useImage };","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","useSafeLayoutEffect","useImage","props","arguments","length","undefined","loading","src","srcSet","onLoad","onError","crossOrigin","sizes","ignoreFallback","_useState","_useState2","_slicedToArray","status","setStatus","imageRef","load","flush","img","Image","srcset","onload","event","onerror","error","current","shouldShowFallbackImage","fallbackStrategy"],"sources":["C:/Users/pk117/Desktop/Personal/pro10150.github.io/node_modules/@nextui-org/use-image/dist/index.mjs"],"sourcesContent":["// src/index.ts\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useSafeLayoutEffect } from \"@nextui-org/use-safe-layout-effect\";\r\nfunction useImage(props = {}) {\r\n  const { loading, src, srcSet, onLoad, onError, crossOrigin, sizes, ignoreFallback } = props;\r\n  const [status, setStatus] = useState(\"pending\");\r\n  useEffect(() => {\r\n    setStatus(src ? \"loading\" : \"pending\");\r\n  }, [src]);\r\n  const imageRef = useRef();\r\n  const load = useCallback(() => {\r\n    if (!src)\r\n      return;\r\n    flush();\r\n    const img = new Image();\r\n    img.src = src;\r\n    if (crossOrigin)\r\n      img.crossOrigin = crossOrigin;\r\n    if (srcSet)\r\n      img.srcset = srcSet;\r\n    if (sizes)\r\n      img.sizes = sizes;\r\n    if (loading)\r\n      img.loading = loading;\r\n    img.onload = (event) => {\r\n      flush();\r\n      setStatus(\"loaded\");\r\n      onLoad == null ? void 0 : onLoad(event);\r\n    };\r\n    img.onerror = (error) => {\r\n      flush();\r\n      setStatus(\"failed\");\r\n      onError == null ? void 0 : onError(error);\r\n    };\r\n    imageRef.current = img;\r\n  }, [src, crossOrigin, srcSet, sizes, onLoad, onError, loading]);\r\n  const flush = () => {\r\n    if (imageRef.current) {\r\n      imageRef.current.onload = null;\r\n      imageRef.current.onerror = null;\r\n      imageRef.current = null;\r\n    }\r\n  };\r\n  useSafeLayoutEffect(() => {\r\n    if (ignoreFallback)\r\n      return void 0;\r\n    if (status === \"loading\") {\r\n      load();\r\n    }\r\n    return () => {\r\n      flush();\r\n    };\r\n  }, [status, load, ignoreFallback]);\r\n  return ignoreFallback ? \"loaded\" : status;\r\n}\r\nvar shouldShowFallbackImage = (status, fallbackStrategy) => status !== \"loaded\" && fallbackStrategy === \"beforeLoadOrError\" || status === \"failed\" && fallbackStrategy === \"onError\";\r\nexport {\r\n  shouldShowFallbackImage,\r\n  useImage\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}